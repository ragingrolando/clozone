<!DOCTYPE html>
<html ng-app="game" lang="en">

  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- build:css @cssFileName -->
    <!-- bower:css -->
    <!-- endbower -->
    <!-- inject:css -->
    <!-- endinject -->
    <!-- endbuild -->
  </head>

  <body ng-controller="game.GameController">

    <div id="container" ng-cloak>

      <h1>
        <span font-size="10" of="container" ng-style="{ 'color': game.player1.color }">Clo</span><!--
        --><span font-size="10" of="container" ng-style="{ 'color': game.player2.color }">Zone</span>
      </h1>

      <div class="clear"></div>

      <div class="score player1">
        <div class="box" ng-style="{ 'background-color': game.player1.color }"
          ng-class="{ 'current-player': game.player1 === game.currentPlayer }"
          font-size="6" of="container" ng-bind="game.player1.score"></div>
        <div class="indicator" ng-show="game.player1 === game.currentPlayer"
          font-size="5" of="container" ng-style="{ 'color': game.player1.color }">&#9650;</div>
      </div>
      <div class="score player2">
        <div class="box" ng-style="{ 'background-color': game.player2.color }"
          ng-class="{ 'current-player': game.player2 === game.currentPlayer }"
          font-size="6" of="container" ng-bind="game.player2.score"></div>
        <div class="indicator" ng-show="game.player2 === game.currentPlayer"
          font-size="5" of="container" ng-style="{ 'color': game.player2.color }">&#9650;</div>
      </div>

      <div class="clear"></div>

      <section class="map-container" ng-style="{ 'padding-top': (game.map.dimensions.ratio * 100) + '%' }">

        <svg class="map" ng-attr-view_box="{{ game.map.dimensions.xMin }} {{ game.map.dimensions.yMin }} {{ game.map.dimensions.width }} {{ game.map.dimensions.height }}" preserveAspectRatio="none">

          <polygon ng-repeat="zone in game.map.zones"
            ng-attr-points="{{ zone.points.join(' ') }}"
            ng-attr-fill="{{ zone.color }}" fill-opacity="0.4" stroke-width="0" />

          <line ng-repeat-start="segment in game.map.segments"
            ng-attr-x1="{{ segment.x1 }}" ng-attr-x2="{{ segment.x2 }}" ng-attr-y1="{{ segment.y1 }}" ng-attr-y2="{{ segment.y2 }}"
            ng-attr-stroke="{{ segment.color }}" stroke-width="2%" stroke-linecap="butt" />

          <polygon ng-repeat-end ng-click="game.onSegmentClick(segment)"
            ng-attr-points="{{ segment.clickableAreaPoints.join(' ') }}"
            ng-class="{ 'consumable': !segment.consumed }"
            fill="transparent" stroke-width="0" />

          <circle ng-repeat="point in game.map.points"
            ng-attr-cx="{{ point.cx }}" ng-attr-cy="{{ point.cy }}" r="2%"
            ng-attr-fill="{{ point.color }}" stroke-width="0" />

        </svg>

      </section>

    </div>

    <!-- build:js @jsFileName -->
    <!-- bower:js -->
    <!-- endbower -->
    <!-- inject:js -->
    <!-- endinject -->
    <!-- endbuild -->

  </body>

</html>
